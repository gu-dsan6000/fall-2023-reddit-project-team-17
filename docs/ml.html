<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>It's Storytime! – ml</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">It’s Storytime!</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Main</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./secondary/code-and-data.html" rel="" target="">
 <span class="menu-text">Code and Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./secondary/authors.html" rel="" target="">
 <span class="menu-text">Authors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./secondary/references.html" rel="" target="">
 <span class="menu-text">References</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ml.html">ML</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EDA</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nlp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NLP</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ml.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">ML</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summary</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#subreddit-prediction" id="toc-subreddit-prediction" class="nav-link active" data-scroll-target="#subreddit-prediction">Subreddit Prediction</a></li>
  <li><a href="#flair-prediction-using-random-forest-classification" id="toc-flair-prediction-using-random-forest-classification" class="nav-link" data-scroll-target="#flair-prediction-using-random-forest-classification">Flair Prediction Using Random Forest Classification</a></li>
  <li><a href="#story-generation" id="toc-story-generation" class="nav-link" data-scroll-target="#story-generation">Story Generation</a></li>
  <li><a href="#ml-models-in-rnostupidquestions" id="toc-ml-models-in-rnostupidquestions" class="nav-link" data-scroll-target="#ml-models-in-rnostupidquestions">ML Models in <code>r/NoStupidQuestions</code></a>
  <ul class="collapse">
  <li><a href="#top-comment-summary-generation" id="toc-top-comment-summary-generation" class="nav-link" data-scroll-target="#top-comment-summary-generation">Top Comment Summary Generation</a></li>
  <li><a href="#sentiment-analysis-in-rnostupidquestions" id="toc-sentiment-analysis-in-rnostupidquestions" class="nav-link" data-scroll-target="#sentiment-analysis-in-rnostupidquestions">Sentiment Analysis in <code>r/NoStupidQuestions</code></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ML</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="subreddit-prediction" class="level2">
<h2 class="anchored" data-anchor-id="subreddit-prediction">Subreddit Prediction</h2>
<div id="fig-random-forest-training" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/ml-plots/random-forest-cv-train-cm.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Shows the confusion matrix for the Random Forest, evaluated on the training data.</figcaption>
</figure>
</div>
<div id="fig-random-forest-testing" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/ml-plots/random-forest-cv-test-cm.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;2: Shows the confusion matrix for the Random Forest, evaluated on the testing data.</figcaption>
</figure>
</div>
<div class="cell" data-execution_count="2">
<div id="fig-random-forest-eval" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">

        <iframe width="100%" height="500" src="img/ml-plots/random-forest-eval.html" frameborder="0" allowfullscreen=""></iframe>
        
<figcaption class="figure-caption">Figure&nbsp;3: Shows the evaluation metrics for the Random Forest Classifier.</figcaption>
</figure>
</div>
</div>
</section>
<section id="flair-prediction-using-random-forest-classification" class="level2">
<h2 class="anchored" data-anchor-id="flair-prediction-using-random-forest-classification">Flair Prediction Using Random Forest Classification</h2>
<p>In this section we attempted to predict what flair is assigned to posts in r/AmItheAsshole (r/AITA) based on various different predictors using a Random Forest (RF) model to attempt to predict how Redditors “judge” these stories posted on r/AITA. We then compared these models with their varying predictors and compared them to a baseline model (random chance).</p>
<p>The first RF model we applied to the r/AITA data using token counts of the five hundred most common words which were extracted using CountVectorizer in the NLP section previously. We chose fifty trees as our hyperparameter to be used across all models used in this section to allow for consistent comparisons. However, due to the imbalanced nature of the r/AITA posts (as established in the EDA section of this project), the dataset was downsampled so that none of the four primary flairs (Asshole, Not the A-hole, Everyone Sucks, No A-holes here) are overrepresented to the extent that they would significantly hinder model performance. After a training and testing data split, the model was trained on the training subset and various model metrics were calculated for both the training and testing subsets via a SparkML pipeline. Measures and visualizations of this model’s efficacy are displayed below.</p>
<div id="fig-flair-text-train" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/ml-plots/flair-text-cm-train-plot.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;4: Shows the confusion matrix for the Random Forest, evaluated on the training data.</figcaption>
</figure>
</div>
<div id="fig-flair-text-test" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/ml-plots/flair-text-cm-test-plot.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;5: Shows the confusion matrix for the Random Forest, evaluated on the testing data.</figcaption>
</figure>
</div>
<div id="fig-flair-text-metrics" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/ml-plots/flair-text-model-metrics-plot.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;6: Shows the evalutation metrics for the Random Forest.</figcaption>
</figure>
</div>
<p>Based on the metrics above, this model did not predict the flairs of these posts particularly accurately, but performed better than a blind random guess, which would have a theoretical accuracy of 25% compared to our model’s ~30-40%. For both the training and testing subsets, the model did an extremely poor job at predicting “Not the A-hole posts”. This model does perform reasonably well when predicting “Everyone Sucks” and “Asshole” flaired posts, but does not predict the posts with the more positively connoted flairs (No A-holes here and Not the A-hole).</p>
<p>Another potential set of predictors we identified were measures of user engagement, namely post “score” (number of upvotes minus number of downvotes) and the number of comments under a post. We applied a similar model using these predictors via another SparkML pipeline and compared them to the previous text-based model. The measures of model performance and confusion matrices are visualized below as such.</p>
<div id="fig-flair-engagement-train" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/ml-plots/flair-engagement-cm-train-plot.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;7: Shows the confusion matrix for the Random Forest, evaluated on the training data.</figcaption>
</figure>
</div>
<div id="fig-flair-engagement-test" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/ml-plots/flair-engagement-cm-test-plot.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;8: Shows the confusion matrix for the Random Forest, evaluated on the training data.</figcaption>
</figure>
</div>
<div id="fig-flair-engagement-metrics" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/ml-plots/flair-engagement-model-metrics-plot.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;9: Shows the evaluation metrics for the Random Forest.</figcaption>
</figure>
</div>
<p>As shown above, this model performs fairly similarly to the previous text-based model but with some slight improvements in some of the model performance metrics along with more comparative performance metrics of the model for the training and test sets. This model more effectively predicted posts with the flairs “Asshole” and “Everyone Sucks” compared to the text-based model, but similarly struggled to correctly identify posts with more positive flairs. Ultimately, while this model does perform slightly better than the previous text-based model, especially at predicting the posts with more negative flairs attached, it still would not serve as an effective tool for accurately predicting these flairs on a larger scale. It is possible that these data are too homogeneous to be easily differentiated using a machine learning model, or using different models and/or hyperparameters may generate more accurate predictions.</p>
<p>We also include the evaluation metrics in <a href="#tbl-flair-model-metrics-df">Table&nbsp;1</a> below:</p>
<div class="cell tbl-cap-location-bottom" data-execution_count="3">
<div class="cell-output cell-output-display" data-execution_count="3">
<div id="tbl-flair-model-metrics-df" class="anchored">
<table class="table table-sm table-striped small">
<caption>Table&nbsp;1: Displays the evaluation metrics of both engagement and text-based models.</caption>
<colgroup>
<col style="width: 13%">
<col style="width: 27%">
<col style="width: 22%">
<col style="width: 20%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Metric</th>
<th style="text-align: right;">Engagement Training</th>
<th style="text-align: right;">Engagement Test</th>
<th style="text-align: right;">Text Training</th>
<th style="text-align: right;">Text Test</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">accuracy</td>
<td style="text-align: right;">0.396378</td>
<td style="text-align: right;">0.396137</td>
<td style="text-align: right;">0.420226</td>
<td style="text-align: right;">0.329193</td>
</tr>
<tr class="even">
<td style="text-align: left;">f1</td>
<td style="text-align: right;">0.393809</td>
<td style="text-align: right;">0.392595</td>
<td style="text-align: right;">0.382704</td>
<td style="text-align: right;">0.28115</td>
</tr>
<tr class="odd">
<td style="text-align: left;">precision</td>
<td style="text-align: right;">0.395841</td>
<td style="text-align: right;">0.394806</td>
<td style="text-align: right;">0.459258</td>
<td style="text-align: right;">0.309424</td>
</tr>
<tr class="even">
<td style="text-align: left;">recall</td>
<td style="text-align: right;">0.396378</td>
<td style="text-align: right;">0.396137</td>
<td style="text-align: right;">0.420226</td>
<td style="text-align: right;">0.329193</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="story-generation" class="level2">
<h2 class="anchored" data-anchor-id="story-generation">Story Generation</h2>
<p>In our project, we developed a story generation model using a recurrent neural network (RNN) model, which we built and trained using <code>PySpark</code> and <code>PyTorch</code>. To enhance the computation speed, we integrated CUDA into the process. Our data is the mix of top stories from various subreddits and popular books sourced externally, developed during the NLP portion of the project. The preprocessed portion of the dataset usable for training purposes is 1037 MB. We found that a smaller subset of 160.59 MB was adequate for the analysis.</p>
<p>The model’s architecture is based on a Long Short-Term Memory (LSTM) layer, which captures long-term dependencies in sequential data. In our setup, we defined hyperparameters such as the input size of 128, hidden state at 256, and used a two-layer LSTM. The model has 12,766,510 trainable parameters.</p>
<p>For the training process, we set the learning rate at 0.01, a maximum of 100 epochs, and a batch size of 64. To ensure the model didn’t overfit, we employed an early stopping mechanism with a patience of 5 epochs and a validation loss improvement threshold of 0.01. The Adam optimizer was chosen for optimization, paired with a cross-entropy loss function for calculating the model’s error rate. The total training time was 1h 41 mins.</p>
<p>The training and validation perplexities are shown in <a href="#fig-rnn-training-validation-perplexity">Figure&nbsp;10</a>:</p>
<div id="fig-rnn-training-validation-perplexity" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/ml-plots/training-validation-perplexity-plot-rnn.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;10: Shows the training and validation perplexities of the RNN training process</figcaption>
</figure>
</div>
<p>To evaluate the model’s effectiveness, we focused on loss and perplexity. A lower perplexity value suggests a higher predictive accuracy of the model. The model achieved a test loss of 1.6227 and a perplexity value of 5.0667, indicating a strong performance in predictive capabilities.</p>
<p>We were ready to generate stories with the trained. Some examples are shown in <a href="#tbl-rnn-generation">Table&nbsp;2</a>:</p>
<div id="tbl-rnn-generation" class="anchored">
<table class="table">
<caption>Table&nbsp;2: Shows the prompt and generated text by the RNN model</caption>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Prompt</th>
<th>Generated Text</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Once upon a time</td>
<td>Once upon a time to of a cause the gachen friends these any olden lands. it was the school all as the sach could boypheal, and they letes saying cut that ended about the told the asking.the said she so a kyastellow specially will wrong me have a glories and how in s</td>
</tr>
<tr class="even">
<td>The sun set over the ancient, whispering forest</td>
<td>The sun set over the ancient forest and the sating the told the thought the pressated the hassed has all she was hands and the and the and of didnt conday her that there you hands my like i was the and i was the told when and the put all into the done to the down the sately and stouse</td>
</tr>
<tr class="odd">
<td>The sound of sirens pierced the night</td>
<td>The sound of sirens pierced the night stack and the down, my fear that my bly and were expetes his slaring when it becheads icky that my feelt and want and contores she givated hours. we let me processings that i only and low that on a mord of the past finding to this because oulling th</td>
</tr>
</tbody>
</table>
</div>
<p>Although our model cannot yet generate cohesive stories, it’s important to recognize the success in the underlying process. The characters produced by the model consistently combine to form coherent words, an ability that demonstrates the model’s understanding of basic linguistic structures, a foundational step toward more complex story generation. This aspect of the model’s output aligns well with the objectives of our project.</p>
</section>
<section id="ml-models-in-rnostupidquestions" class="level2">
<h2 class="anchored" data-anchor-id="ml-models-in-rnostupidquestions">ML Models in <code>r/NoStupidQuestions</code></h2>
<section id="top-comment-summary-generation" class="level3">
<h3 class="anchored" data-anchor-id="top-comment-summary-generation">Top Comment Summary Generation</h3>
<p>After all of the NLP work to identify comments that were scored high and contained the topic we had chosen, in this case comments related to COVID-19 in the subreddit <code>r/NoStupidQuestions</code>. We were successfully able to identify comments that we would be useful to summarize to better gain an understanding of the narrative in a particular subreddit. One example of this is below.</p>
<p>The model used to perform this summarization was a “facebook/bart-large-cnn” <span class="citation" data-cites="lewis_bart_2019">[<a href="#ref-lewis_bart_2019" role="doc-biblioref">1</a>]</span>.</p>
<section id="before-summarization-after-stemming-and-removing-stopwords" class="level4">
<h4 class="anchored" data-anchor-id="before-summarization-after-stemming-and-removing-stopwords">Before Summarization (After Stemming and removing StopWords):</h4>
<blockquote class="blockquote">
<p>I can understand that frustration and getting tired of the cynicism or generation of toxic beliefs, but it should be noted that about that bit from his 1999 special about the immune system and all that, his family has outright said:</p>
<p>Several times during the pandemic, Carlin has drawn attention for a routine from his 1999 special, “You Are All Diseased,” in which he mischievously suggests that a childhood spent swimming in the polluted Hudson River was the reason he didn’t catch polio.</p>
<p>(“In my neighborhood, no one ever got polio,” he fulminates. “No one, ever. You know why? ’Cause we swam in raw sewage. It strengthened our immune systems. The polio never had a prayer.”)</p>
<p>As Kelly Carlin explained, some viewers concluded — wrongly — that her father would have opposed coronavirus vaccines.</p>
<p>“Everyone’s like, see? George Carlin would have been anti-vaccination,” she said. “And I’m like, no. My dad was pro-science, pro-rational thinking, pro-evidence-based medicine. The man was a heart patient for 30 years. When he was a kid and the polio vaccine became available, he got the polio vaccine.”</p>
<p>…</p>
<p>In efforts to divine his opinion, some Carlin fans pointed to a 1990 interview he gave to Larry King, when he expressed his misgivings about the crude standup of Andrew Dice Clay: “His targets are underdogs, and comedy has traditionally picked on power — people who abuse their power,” Carlin said at the time.</p>
<p>Kelly Carlin said her father “always took the stand that more speech is better than less speech” and would have supported Chappelle’s right to perform the special. But, she added, “if you’re a comedian, you’ve got to be funny.”</p>
</blockquote>
</section>
<section id="after-summarization" class="level4">
<h4 class="anchored" data-anchor-id="after-summarization">After Summarization:</h4>
<blockquote class="blockquote">
<p>Carlin has drawn attention for a routine from his 1999 special, “You Are All Diseased.” He mischievously suggests that a childhood spent swimming in the polluted Hudson River was the reason he didn’t catch polio. Some viewers concluded — wrongly — that her father would have opposed coronavirus vaccines. “Everyone’s like, see? George Carlin would have been anti-vaccination,” she said. ’I’m like, no. My dad was pro-science,. pro-rational thinking, pro-evidence-based medicine.</p>
</blockquote>
</section>
</section>
<section id="sentiment-analysis-in-rnostupidquestions" class="level3">
<h3 class="anchored" data-anchor-id="sentiment-analysis-in-rnostupidquestions">Sentiment Analysis in <code>r/NoStupidQuestions</code></h3>
<p>Another topic that we needed to understand in relation to the COVID-19 comments in <code>r/NoStupidQuestions</code> was the sentiment. To do this we used “yiyanghkust/finbert-tone” <span class="citation" data-cites="huang_span_2023">[<a href="#ref-huang_span_2023" role="doc-biblioref">2</a>]</span> on HuggingFace. This gave us a better understanding of the subreddit with regard to our topic. The results of which are visualized in <a href="#fig-sentiment-analysis-plot">Figure&nbsp;11</a>. Additionally, this is just a small subset to show that the model worked.</p>
<div id="fig-sentiment-analysis-plot" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/ml-plots/sentiment_analysis_plot.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;11: Shows the result of the sentiment analysis using the pre-trained model.</figcaption>
</figure>
</div>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" role="list">
<div id="ref-lewis_bart_2019" class="csl-entry" role="listitem">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">Lewis M, Liu Y, Goyal N, Ghazvininejad M, Mohamed A, Levy O, Stoyanov V, Zettlemoyer L. <span>BART</span>: <span>Denoising</span> <span>Sequence</span>-to-<span>Sequence</span> <span>Pre</span>-training for <span>Natural</span> <span>Language</span> <span>Generation</span>, <span>Translation</span>, and <span>Comprehension</span>. 2019 [accessed 2023 Nov 30]. <a href="https://arxiv.org/abs/1910.13461">https://arxiv.org/abs/1910.13461</a>. doi:<a href="https://doi.org/10.48550/ARXIV.1910.13461">10.48550/ARXIV.1910.13461</a></div>
</div>
<div id="ref-huang_span_2023" class="csl-entry" role="listitem">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline">Huang AH, Wang H, Yang Y. <span>&lt;</span>Span style="font-variant:small-caps;"<span>&gt;</span><span>FinBERT</span><span>&lt;</span>/span<span>&gt;</span> : <span>A</span> <span>Large</span> <span>Language</span> <span>Model</span> for <span>Extracting</span> <span>Information</span> from <span>Financial</span> <span>Text</span>*. Contemporary Accounting Research. 2023 [accessed 2023 Nov 30];40(2):806–841. <a href="https://onlinelibrary.wiley.com/doi/10.1111/1911-3846.12832">https://onlinelibrary.wiley.com/doi/10.1111/1911-3846.12832</a>. doi:<a href="https://doi.org/10.1111/1911-3846.12832">10.1111/1911-3846.12832</a></div>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">A project by Team 17.</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Made with and <a href="https://quarto.org/">Quarto</a><br> <a href="https://github.com/gu-dsan6000/fall-2023-reddit-project-team-17">View the source at GitHub</a></div>
  </div>
</footer>



</body></html>